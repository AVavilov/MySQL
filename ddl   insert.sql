-- БД новой онлайн школы


drop database if exists Online_School;
create database Online_School;

use Online_School;

drop table if exists users;
create table users (
	id serial primary key,
	firstname varchar(50),
	lastname varchar(50),
	birthday date not null,
	email varchar(50) null unique,
	phone bigint null unique,	
	sex char(1) not null,
	status enum ('user', 'student', 'teacher') not null default 'user',
	register_dt datetime not null default now(),
	
	index users_name (firstname, lastname)
)comment 'Пользователи';

insert into users (`id`, `firstname`, `lastname`, `birthday`, `email`, `phone`, `sex`, `status`, `register_dt`)
values 
	('1', 'Easton', 'Shields', '1975-05-08', 'dahlia.vonrueden@example.net', '9039202872', 'm', 'teacher', '2020-01-01 00:00:00'),
	('2', 'Caleb', 'Hintz', '1975-06-08', 'ymurphy@example.com', '9034518503', 'm', 'teacher', '2020-01-01 00:00:00'),
	('3', 'Samson', 'Volkman', '1975-07-08', 'german.kiehn@example.net', '9037387874', 'm', 'teacher', '2020-01-01 00:00:00'),
	('4', 'Dasia', 'Reilly', '1975-08-08', 'gerlach.juliet@example.net', '9032722555', 'm', 'teacher', '2020-01-01 00:00:00'),
	('5', 'Ari', 'Kshlerin', '1975-09-08', 'velma.waelchi@example.net', '9037669587', 'm', 'teacher', '2020-01-08 00:00:00'),
	('6', 'Malcolm', 'Walker', '1975-10-08', 'enola16@example.org', '9036696939', 'm', 'student', '2020-02-08 00:00:00'),
	('7', 'Cole', 'Gibson', '1975-01-08', 'althea.rogahn@example.com', '9037786762', 'm', 'student', '2020-03-08 00:00:00'),
	('8', 'Edmond', 'Hyatt', '1975-03-08', 'sherwood27@example.com', '9036735294', 'm', 'student', '2020-04-08 00:00:00'),
	('9', 'Jarvis', 'Gislason', '1980-07-08', 'jayne.konopelski@example.org', '9033864899', 'm', 'student', '2020-05-08 00:00:00'),
	('10', 'Alta', 'Hintz', '1980-05-08', 'anahi.mcclure@example.com', '9036523064', 'm', 'student', '2020-08-08 00:00:00'),
	('11', 'Anita', 'Sauer', '1980-06-08', 'reichert.ayana@example.org', '9034688778', 'm', 'student', '2020-10-08 00:00:00'),
	('12', 'Adaline', 'Terry', '1980-07-08', 'adolph.marvin@example.org', '9038584336', 'm', 'student', '2020-12-08 00:00:00'),
	('13', 'Dejah', 'Larkin', '1980-08-08', 'kathlyn68@example.net', '9037168740', 'm', 'student', '2020-01-08 00:00:00'),
	('14', 'Hermina', 'Bahringer', '1980-09-08', 'cooper50@example.com', '9036654477', 'm', 'student', '2020-01-08 00:00:00'),
	('15', 'Pablo', 'Shanahan', '1980-10-08', 'zpaucek@example.org', '9036902662', 'w', 'student', '2021-01-08 00:00:00'),
	('16', 'Mallory', 'Kiehn', '1980-01-08', 'alvis.wyman@example.com', '9035597845', 'm', 'student', '2021-01-08 00:00:00'),
	('17', 'Maximillia', 'Gorczany', '1980-03-08', 'cartwright.jailyn@example.org', '9039266311', 'w', 'student', '2021-01-08 00:00:00'),
	('18', 'Loma', 'Bins', '1975-07-08', 'watsica.schuyler@example.com', '9035965085', 'w', 'student', '2021-02-01 00:00:00'),
	('19', 'Lori', 'Turner', '1975-05-08', 'kcorkery@example.org', '9036037036', 'w', 'student', '2021-03-01 00:00:00'),
	('20', 'Vilma', 'Satterfield', '1975-06-08', 'edison.kunde@example.net', '9032887439', 'w', 'student', '2021-04-01 00:00:00'),
	('21', 'Angus', 'Mayer', '1982-07-08', 'lenore75@example.net', '9032778919', 'm', 'student', '2021-05-01 00:00:00'),
	('22', 'Melany', 'Braun', '1982-08-08', 'missouri90@example.com', '9039677058', 'm', 'student', '2021-08-01 00:00:00'),
	('23', 'Jeffery', 'Heathcote', '1982-09-08', 'rolando.prosacco@example.net', '9032376074', 'm', 'student', '2021-10-01 00:00:00'),
	('24', 'Cruz', 'Ferry', '1982-10-08', 'bosco.stacy@example.org', '9038934531', 'm', 'student', '2020-12-01 00:00:00'),
	('25', 'Vergie', 'Lindgren', '1982-01-08', 'witting.zena@example.org', '9038826114', 'm', 'student', '2020-01-12 00:00:00'),
	('26', 'Korey', 'Harris', '1982-03-08', 'ward06@example.org', '9032103777', 'm', 'student', '2020-01-12 00:00:00'),
	('27', 'Rita', 'Kertzmann', '1982-07-08', 'ward.freida@example.net', '9033624940', 'm', 'student', '2020-01-12 00:00:00'),
	('28', 'Lera', 'Swift', '1982-05-08', 'gunnar22@example.org', '9033132773', 'm', 'student', '2020-01-12 00:00:00'),
	('29', 'Zetta', 'Zulauf', '1982-06-08', 'tillman12@example.com', '9036933289', 'm', 'student', '2020-01-12 00:00:00'),
	('30', 'Retha', 'Fritsch', '1982-07-08', 'von.cale@example.org', '9037329814', 'm', 'student', '2020-02-12 00:00:00'),
	('31', 'Keyon', 'Jacobson', '1982-08-08', 'sunny.bahringer@example.com', '9034690249', 'm', 'student', '2020-03-12 00:00:00'),
	('32', 'Zane', 'Raynor', '1975-09-08', 'marvin.sibyl@example.com', '9032784494', 'm', 'student', '2020-04-12 00:00:00'),
	('33', 'Dimitri', 'Stokes', '1975-10-08', 'narciso.schmidt@example.net', '9032383375', 'w', 'student', '2020-05-12 00:00:00'),
	('34', 'Karl', 'Roob', '1975-01-08', 'brannon.fadel@example.org', '9039981846', 'w', 'student', '2020-08-12 00:00:00'),
	('35', 'Jennifer', 'Wehner', '1975-03-08', 'emayer@example.net', '9032685451', 'm', 'student', '2021-10-12 00:00:00'),
	('36', 'Dax', 'Yundt', '1975-07-08', 'presley02@example.net', '9037037249', 'm', 'student', '2021-12-12 00:00:00'),
	('37', 'Garett', 'Roob', '1988-05-08', 'gardner.roob@example.com', '9034561058', 'm', 'student', '2021-01-01 00:00:00'),
	('38', 'Aron', 'Effertz', '1988-06-08', 'devante80@example.org', '9034246712', 'm', 'student', '2021-01-01 00:00:00'),
	('39', 'Layne', 'Durgan', '1988-07-08', 'hansen.adah@example.com', '9037406848', 'm', 'student', '2021-01-01 00:00:00'),
	('40', 'Emely', 'Mohr', '1988-08-08', 'buckridge.nichole@example.org', '9034728324', 'm', 'student', '2021-01-01 00:00:00'),
	('41', 'Ezra', 'Davis', '1988-09-08', 'christy20@example.net', '9038573800', 'm', 'student', '2021-01-01 00:00:00'),
	('42', 'Travis', 'Larson', '1988-10-08', 'zrussel@example.com', '9036250297', 'm', 'student', '2021-02-01 00:00:00'),
	('43', 'Loren', 'Stamm', '1988-01-08', 'spinka.thora@example.org', '9032003628', 'm', 'student', '2021-03-01 00:00:00'),
	('44', 'Laury', 'Dietrich', '1988-03-08', 'murazik.mireille@example.net', '9033263989', 'm', 'student', '2020-04-01 00:00:00'),
	('45', 'Pat', 'Stark', '1988-07-08', 'augustus.price@example.net', '9033583494', 'm', 'student', '2020-05-01 00:00:00'),
	('46', 'Laurine', 'Larkin', '1988-05-08', 'alaina46@example.net', '9037661404', 'm', 'student', '2020-08-19 00:00:00'),
	('47', 'Alanis', 'Treutel', '1988-06-08', 'legros.dee@example.org', '9038940229', 'm', 'student', '2020-10-19 00:00:00'),
	('48', 'Rudolph', 'West', '1988-07-08', 'edgar.purdy@example.com', '9039720990', 'm', 'student', '2020-12-19 00:00:00'),
	('49', 'Allene', 'McClure', '1988-08-08', 'nader.magali@example.com', '9032174904', 'm', 'student', '2020-01-19 00:00:00'),
	('50', 'Antonette', 'Hand', '1975-09-08', 'filiberto.mcdermott@example.org', '9034961524', 'm', 'student', '2020-01-19 00:00:00'),
	('51', 'Rylee', 'Christiansen', '1975-10-08', 'wilburn08@example.org', '9038024569', 'm', 'student', '2020-01-19 00:00:00'),
	('52', 'Amely', 'Howell', '1975-01-08', 'jkassulke@example.com', '9038299179', 'm', 'student', '2020-01-19 00:00:00'),
	('53', 'Madge', 'Padberg', '1975-03-08', 'grayson.haag@example.com', '9037259037', 'w', 'student', '2020-01-19 00:00:00'),
	('54', 'Imani', 'Carter', '1975-07-08', 'demario32@example.com', '9031515472', 'w', 'student', '2020-02-19 00:00:00'),
	('55', 'Jennyfer', 'Volkman', '1975-05-08', 'hackett.ken@example.com', '9039805915', 'w', 'student', '2020-03-19 00:00:00'),
	('56', 'Michaela', 'Ritchie', '1990-06-08', 'aniya.cruickshank@example.net', '9035075645', 'w', 'student', '2020-04-01 00:00:00'),
	('57', 'Tanner', 'Wuckert', '1990-07-08', 'serena.macejkovic@example.com', '9031608386', 'w', 'student', '2020-05-01 00:00:00'),
	('58', 'Lauriane', 'Gerhold', '1990-08-08', 'jaskolski.gus@example.net', '9035305132', 'w', 'student', '2020-08-01 00:00:00'),
	('59', 'Deonte', 'Hickle', '1990-09-08', 'littel.lemuel@example.com', '9034961454', 'w', 'student', '2020-10-23 00:00:00'),
	('60', 'Eileen', 'Lang', '1990-10-08', 'breanne.schiller@example.net', '9036641490', 'w', 'student', '2020-12-23 00:00:00'),
	('61', 'Ally', 'Collins', '1990-01-08', 'powlowski.aditya@example.com', '9037675928', 'm', 'student', '2021-01-23 00:00:00'),
	('62', 'Merle', 'Dicki', '1990-03-08', 'lang.nicholaus@example.org', '9039679099', 'w', 'student', '2021-01-23 00:00:00'),
	('63', 'Sherman', 'Rippin', '1990-07-08', 'seth23@example.com', '9031338643', 'w', 'student', '2021-01-23 00:00:00'),
	('64', 'Elna', 'Anderson', '1990-05-08', 'alysha54@example.net', '9035194566', 'w', 'student', '2021-01-23 00:00:00'),
	('65', 'Jaleel', 'Runolfsdottir', '1990-06-08', 'waters.tre@example.com', '9031373699', 'm', 'student', '2021-01-23 00:00:00'),
	('66', 'Edd', 'Gutkowski', '1990-07-08', 'marley92@example.net', '9036687664', 'm', 'student', '2021-02-23 00:00:00'),
	('67', 'Diamond', 'Nikolaus', '1990-08-08', 'lewis98@example.org', '9032034198', 'm', 'student', '2021-03-23 00:00:00'),
	('68', 'Verlie', 'Kunze', '1975-09-08', 'bergnaum.rigoberto@example.org', '9032727746', 'm', 'student', '2021-04-23 00:00:00'),
	('69', 'Kaela', 'Berge', '1975-10-08', 'garrett.gutmann@example.org', '9038441182', 'm', 'student', '2021-05-23 00:00:00'),
	('70', 'Dorthy', 'Wyman', '1975-01-08', 'collier.jamir@example.org', '9032341028', 'm', 'student', '2021-08-23 00:00:00'),
	('71', 'Mikayla', 'Padberg', '1975-03-08', 'columbus.blanda@example.org', '9034416245', 'm', 'student', '2021-10-23 00:00:00'),
	('72', 'Eva', 'Johnson', '1975-07-08', 'okovacek@example.com', '9038435724', 'm', 'student', '2021-12-23 00:00:00'),
	('73', 'Elfrieda', 'King', '1975-05-08', 'walter.terence@example.net', '9033641843', 'm', 'student', '2021-01-23 00:00:00'),
	('74', 'Aliyah', 'Kessler', '1992-06-08', 'jennie78@example.org', '9032187214', 'm', 'student', '2021-01-01 00:00:00'),
	('75', 'Ahmed', 'Herzog', '1992-07-08', 'hheathcote@example.com', '9036243515', 'm', 'student', '2021-01-01 00:00:00'),
	('76', 'Glen', 'Kessler', '1992-08-08', 'nona.kunde@example.org', '9039263118', 'm', 'student', '2021-01-01 00:00:00'),
	('77', 'Clemmie', 'Schmitt', '1992-09-08', 'sgoldner@example.net', '9034270849', 'm', 'student', '2021-01-01 00:00:00'),
	('78', 'Yasmine', 'Rohan', '1992-10-08', 'ecarter@example.net', '9037308068', 'w', 'student', '2021-02-01 00:00:00'),
	('79', 'Fay', 'Hackett', '1992-01-08', 'estanton@example.org', '9033081622', 'm', 'student', '2020-03-16 00:00:00'),
	('80', 'Laurence', 'Mills', '1992-03-08', 'janice93@example.com', '9032104324', 'm', 'student', '2020-04-16 00:00:00'),
	('81', 'Kallie', 'Dibbert', '1992-07-08', 'cgerlach@example.com', '9033025209', 'm', 'student', '2020-05-16 00:00:00'),
	('82', 'Kenyon', 'Kuhn', '1992-05-08', 'boehm.sammie@example.net', '9032378417', 'm', 'student', '2020-08-16 00:00:00'),
	('83', 'Gisselle', 'Olson', '1975-06-08', 'gibson.willis@example.com', '9035965675', 'w', 'student', '2020-10-16 00:00:00'),
	('84', 'Odessa', 'Zemlak', '1975-07-08', 'kemmer.noemy@example.org', '9034066296', 'w', 'student', '2020-12-16 00:00:00'),
	('85', 'Maggie', 'Ortiz', '2001-08-08', 'paul.pfeffer@example.net', '9035033002', 'm', 'student', '2020-01-16 00:00:00'),
	('86', 'Henry', 'Walsh', '2001-09-08', 'zbauch@example.net', '9038272531', 'm', 'student', '2020-01-16 00:00:00'),
	('87', 'Wilma', 'Bruen', '2001-10-08', 'alba.marquardt@example.org', '9037972037', 'w', 'student', '2020-01-16 00:00:00'),
	('88', 'Jerome', 'Goldner', '2001-01-08', 'ernestina.ward@example.net', '9031882606', 'm', 'student', '2020-01-16 00:00:00'),
	('89', 'Fae', 'Gulgowski', '2001-03-08', 'ncassin@example.net', '9036503660', 'm', 'student', '2020-01-16 00:00:00'),
	('90', 'Kristian', 'Luettgen', '2001-07-08', 'devon94@example.org', '9037748151', 'm', 'student', '2020-02-18 00:00:00'),
	('91', 'Camren', 'Corwin', '2001-05-08', 'alena96@example.com', '9037172242', 'm', 'user', '2020-02-18 00:00:00'),
	('92', 'Dana', 'Jacobi', '2001-06-08', 'kiehn.katrine@example.com', '9031383135', 'm', 'user', '2020-02-18 00:00:00'),
	('93', 'Christelle', 'Klein', '2001-07-08', 'hlubowitz@example.net', '9036581155', 'm', 'user', '2020-02-18 00:00:00'),
	('94', 'Bailee', 'Tromp', '2001-08-08', 'anjali33@example.com', '9034074865', 'm', 'user', '2020-02-18 00:00:00'),
	('95', 'Kelsie', 'Robel', '1975-09-08', 'harvey.brenda@example.org', '9035362027', 'm', 'user', '2020-02-18 00:00:00'),
	('96', 'Keenan', 'Roob', '1975-10-08', 'hamill.lori@example.com', '9039924955', 'm', 'user', '2020-02-18 00:00:00'),
	('97', 'Veda', 'O\'Connell', '1975-01-08', 'fkirlin@example.com', '9037151991', 'm', 'user', '2020-02-18 00:00:00'),
	('98', 'Andreanne', 'Maggio', '1975-03-08', 'kiarra02@example.org', '9032784864', 'm', 'user', '2020-02-18 00:00:00'),
	('99', 'Milford', 'Schaefer', '1975-07-08', 'romaine.lesch@example.org', '9038262646', 'm', 'user', '2020-02-18 00:00:00'),
	('100', 'Nyasia', 'Mraz', '1975-05-08', 'demarco.schaefer@example.org', '9035139883', 'w', 'user', '2020-02-18 00:00:00');



drop table if exists courses;
create table courses (
	id serial primary key,
	name_course varchar(100) not null unique,
	cost bigint unsigned default null,
	
	index courses_name (name_course)
) comment 'Курсы' ;

insert into `courses` (`id`, `name_course`, `cost`)
values 
	(1, 'python', '80000'),
	(2, 'mysql', '50000'),
	(3, 'linux', '40000'),
	(4, 'javascript', '90000'),
	(5, 'c++', '70000');


drop table if exists orders;
create table orders (
	id serial primary key,
	course_id bigint unsigned,
	user_id bigint unsigned not null,
	cost int unsigned not null,
	create_dt datetime not null default now(),
	
	foreign key (user_id) references users(id) on update cascade on delete cascade,
	foreign key (course_id) references courses(id) on update cascade on delete cascade
) comment 'Счета, оплата';

insert into `orders` (`id`, `course_id`, `user_id`, `cost`, `create_dt`)
values
	(1,1,6,80000, '2020-02-08 00:00:00'),
	(2,2,6,50000, '2020-03-08 00:00:00'),
	(3,3,6,40000, '2020-04-08 00:00:00'),
	(4,4,9,90000, '2020-05-08 00:00:00'),
	(5,5,10,70000, '2020-08-08 00:00:00'),
	(6,1,11,80000, '2020-10-08 00:00:00'),
	(7,2,12,50000, '2020-12-08 00:00:00'),
	(8,3,12,40000, '2020-01-08 00:00:00'),
	(9,4,14,90000, '2020-01-08 00:00:00'),
	(10,5,15,70000, '2021-01-08 00:00:00'),
	(11,1,16,80000, '2021-01-08 00:00:00'),
	(12,2,17,50000, '2021-01-08 00:00:00'),
	(13,3,18,40000, '2021-02-01 00:00:00'),
	(14,4,18,90000, '2021-03-01 00:00:00'),
	(15,5,20,70000, '2021-04-01 00:00:00'),
	(16,1,21,80000, '2021-05-01 00:00:00'),
	(17,2,22,50000, '2021-08-01 00:00:00'),
	(18,3,21,40000, '2021-10-01 00:00:00'),
	(19,4,21,90000, '2020-12-01 00:00:00'),
	(20,5,25,70000, '2020-01-12 00:00:00'),
	(21,1,26,80000, '2020-01-12 00:00:00'),
	(22,2,27,50000, '2020-01-12 00:00:00'),
	(23,3,28,40000, '2020-01-12 00:00:00'),
	(24,4,29,90000, '2020-01-12 00:00:00'),
	(25,5,30,70000, '2020-02-12 00:00:00'),
	(26,1,31,80000, '2020-03-12 00:00:00'),
	(27,2,32,50000, '2020-04-12 00:00:00'),
	(28,3,33,40000, '2020-05-12 00:00:00'),
	(29,4,34,90000, '2020-08-12 00:00:00'),
	(30,5,35,70000, '2021-10-12 00:00:00'),
	(31,1,36,80000, '2021-12-12 00:00:00'),
	(32,2,36,50000, '2021-01-01 00:00:00'),
	(33,3,38,40000, '2021-01-01 00:00:00'),
	(34,4,39,90000, '2021-01-01 00:00:00'),
	(35,5,36,70000, '2021-01-01 00:00:00'),
	(36,1,41,80000, '2021-01-01 00:00:00'),
	(37,2,42,50000, '2021-02-01 00:00:00'),
	(38,3,43,40000, '2021-03-01 00:00:00'),
	(39,4,44,90000, '2020-04-01 00:00:00'),
	(40,5,45,70000, '2020-05-01 00:00:00'),
	(41,1,46,80000, '2020-08-19 00:00:00'),
	(42,2,47,50000, '2020-10-19 00:00:00'),
	(43,3,48,40000, '2020-12-19 00:00:00'),
	(44,4,49,90000, '2020-01-19 00:00:00'),
	(45,5,50,70000, '2020-01-19 00:00:00'),
	(46,1,51,80000, '2020-01-19 00:00:00'),
	(47,2,51,50000, '2020-01-19 00:00:00'),
	(48,3,53,40000, '2020-01-19 00:00:00'),
	(49,4,54,90000, '2020-02-19 00:00:00'),
	(50,5,55,70000, '2020-03-19 00:00:00'),
	(51,1,56,80000, '2020-04-01 00:00:00'),
	(52,2,57,50000, '2020-05-01 00:00:00'),
	(53,3,58,40000, '2020-08-01 00:00:00'),
	(54,4,59,90000, '2020-10-23 00:00:00'),
	(55,5,60,70000, '2020-12-23 00:00:00'),
	(56,1,61,80000, '2021-01-23 00:00:00'),
	(57,2,62,50000, '2021-01-23 00:00:00'),
	(58,3,63,40000, '2021-01-23 00:00:00'),
	(59,4,62,90000, '2021-01-23 00:00:00'),
	(60,5,65,70000, '2021-01-23 00:00:00'),
	(61,1,66,80000, '2021-02-23 00:00:00'),
	(62,2,67,50000, '2021-03-23 00:00:00'),
	(63,3,68,40000, '2021-04-23 00:00:00'),
	(64,4,69,90000, '2021-05-23 00:00:00'),
	(65,5,70,70000, '2021-08-23 00:00:00'),
	(66,1,71,80000, '2021-10-23 00:00:00'),
	(67,2,72,50000, '2021-12-23 00:00:00'),
	(68,3,71,40000, '2021-01-23 00:00:00'),
	(69,4,71,90000, '2021-01-01 00:00:00'),
	(70,5,75,70000, '2021-01-01 00:00:00'),
	(71,1,76,80000, '2021-01-01 00:00:00'),
	(72,2,76,50000, '2021-01-01 00:00:00'),
	(73,3,76,40000, '2021-02-01 00:00:00'),
	(74,4,76,90000, '2020-03-16 00:00:00'),
	(75,5,76,70000, '2020-04-16 00:00:00'),
	(76,1,81,80000, '2020-05-16 00:00:00'),
	(77,2,82,50000, '2020-08-16 00:00:00'),
	(78,3,82,40000, '2020-10-16 00:00:00'),
	(79,4,84,90000, '2020-12-16 00:00:00'),
	(80,5,85,70000, '2020-01-16 00:00:00');




drop table if exists order_users;
create table order_users (
	user_id bigint unsigned,
	order_id bigint unsigned,
	
	foreign key (user_id) references users(id) on update cascade on delete cascade,
	foreign key (order_id) references orders(id) on update cascade on delete cascade
)comment 'Покупки курсов';

insert into `order_users` (`user_id`, `order_id`)
values 
(6,1),
(6,2),
(6,3),
(9,4),
(10,5),
(11,6),
(12,7),
(12,8),
(14,9),
(15,10),
(16,11),
(17,12),
(18,13),
(18,14),
(20,15),
(21,16),
(22,17),
(21,18),
(21,19),
(25,20),
(26,21),
(27,22),
(28,23),
(29,24),
(30,25),
(31,26),
(32,27),
(33,28),
(34,29),
(35,30),
(36,31),
(36,32),
(38,33),
(39,34),
(36,35),
(41,36),
(42,37),
(43,38),
(44,39),
(45,40),
(46,41),
(47,42),
(48,43),
(49,44),
(50,45),
(51,46),
(51,47),
(53,48),
(54,49),
(55,50),
(56,51),
(57,52),
(58,53),
(59,54),
(60,55),
(61,56),
(62,57),
(63,58),
(62,59),
(65,60),
(66,61),
(67,62),
(68,63),
(69,64),
(70,65),
(71,66),
(72,67),
(71,68),
(71,69),
(75,70),
(76,71),
(76,72),
(76,73),
(76,74),
(76,75),
(81,76),
(82,77),
(82,78),
(84,79),
(85,80);



drop table if exists comments;
create table comments (
	id serial primary key,
	user_id bigint unsigned,
	course_id bigint unsigned,
	`like` tinyint(1) unsigned null,
	comment varchar(255) default null,
	create_dt datetime not null default now(),
	
	foreign key (user_id) references users(id) on update cascade on delete cascade,
	foreign key (course_id) references courses(id) on update cascade on delete cascade
) comment 'Отзывы, комментарии, лайки';

insert into `comments` (`id`, `user_id`, `course_id`, `like`, `comment`, `create_dt`) 
values 
	(1,10,1,1, NULL, '2020-01-01 21:51:00'),
	(2,10,2,0, NULL, '2020-01-01 21:44:00'),
	(3,10,3,0, NULL, '2020-01-01 21:44:00'),
	(4,10,4,0, NULL, '2020-01-01 21:44:00'),
	(5,7,5,1, NULL, '2020-01-08 13:44:00'),
	(6,7,1,0, NULL, '2020-02-08 13:44:00'),
	(7,7,2,0, NULL, '2020-03-08 13:44:00'),
	(8,8,3,1, NULL, '2020-04-08 13:44:00'),
	(9,9,4,0, NULL, '2020-05-08 13:51:00'),
	(10,10,5,1, NULL, '2020-08-08 13:51:00'),
	(11,11,1,1, NULL, '2020-10-08 13:51:00'),
	(12,12,2,0, NULL, '2020-12-08 13:51:00'),
	(13,13,3,0, NULL, '2020-01-08 13:51:00'),
	(14,14,4,1, NULL, '2020-01-08 21:51:00'),
	(15,15,5,1, NULL, '2021-01-08 21:51:00'),
	(16,16,1,1, NULL, '2021-01-08 21:36:00'),
	(17,16,2,1, NULL, '2021-01-08 21:36:00'),
	(18,16,3,0, NULL, '2021-02-01 21:36:00'),
	(19,16,4,0, NULL, '2021-03-01 21:36:00'),
	(20,20,5,0, NULL, '2021-04-01 21:36:00'),
	(21,21,1,0, NULL, '2021-05-01 21:36:00'),
	(22,22,2,1, NULL, '2021-08-01 21:36:00'),
	(23,23,3,0, NULL, '2021-10-01 21:36:00'),
	(24,24,4,1, NULL, '2020-12-01 21:36:00'),
	(25,25,5,0, NULL, '2020-01-12 21:51:00'),
	(26,26,1,0, NULL, '2020-01-12 21:51:00'),
	(27,26,2,0, NULL, '2020-01-12 21:51:00'),
	(28,28,3,0, NULL, '2020-01-12 21:51:00'),
	(29,29,4,0, NULL, '2020-01-12 21:51:00'),
	(30,30,5,1, NULL, '2020-02-12 21:51:00'),
	(31,31,1,0, NULL, '2020-03-12 21:51:00'),
	(32,31,2,0, NULL, '2020-04-12 21:51:00'),
	(33,31,3,0, NULL, '2020-05-12 21:51:00'),
	(34,31,4,0, NULL, '2020-08-12 21:44:00'),
	(35,35,5,0, NULL, '2021-10-12 21:44:00'),
	(36,36,1,1, NULL, '2021-12-12 21:44:00'),
	(37,37,2,0, NULL, '2021-01-01 21:44:00'),
	(38,38,3,0, NULL, '2021-01-01 21:44:00'),
	(39,39,4,0, NULL, '2021-01-01 21:44:00'),
	(40,40,5,1, NULL, '2021-01-01 21:44:00'),
	(41,41,1,0, NULL, '2021-01-01 13:44:00'),
	(42,42,2,0, NULL, '2021-02-01 13:51:00'),
	(43,41,3,0, NULL, '2021-03-01 13:51:00'),
	(44,41,4,0, NULL, '2020-04-01 13:51:00'),
	(45,41,5,0, NULL, '2020-05-01 13:51:00'),
	(46,46,1,0, NULL, '2020-08-19 13:51:00'),
	(47,47,2,0, NULL, '2020-10-19 13:51:00'),
	(48,48,3,0, NULL, '2020-12-19 13:51:00'),
	(49,49,4,0, NULL, '2020-01-19 13:51:00'),
	(50,50,5,0, NULL, '2020-01-19 13:51:00'),
	(51,51,1,1, NULL, '2020-01-19 13:51:00'),
	(52,51,2,1, NULL, '2020-01-19 13:51:00'),
	(53,51,3,0, NULL, '2020-01-19 21:51:00'),
	(54,51,4,1, NULL, '2020-02-19 21:51:00'),
	(55,55,5,1, NULL, '2020-03-19 21:51:00'),
	(56,56,1,1, NULL, '2020-04-01 21:51:00'),
	(57,57,2,1, NULL, '2020-05-01 15:51:00'),
	(58,58,3,1, NULL, '2020-08-01 15:28:00'),
	(59,59,4,0, NULL, '2020-10-23 15:28:00'),
	(60,60,5,0, NULL, '2020-12-23 15:28:00'),
	(61,61,1,1, NULL, '2021-01-23 15:28:00'),
	(62,61,2,1, NULL, '2021-01-23 15:28:00'),
	(63,61,3,0, NULL, '2021-01-23 15:28:00'),
	(64,64,4,1, NULL, '2021-01-23 15:28:00'),
	(65,65,5,1, NULL, '2021-01-23 15:28:00'),
	(66,66,1,0, NULL, '2021-02-23 15:28:00'),
	(67,67,2,1, NULL, '2021-03-23 15:28:00'),
	(68,68,3,1, NULL, '2021-04-23 15:28:00'),
	(69,69,4,0, NULL, '2021-05-23 21:28:00'),
	(70,70,5,1, NULL, '2021-08-23 21:51:00'),
	(71,71,1,1, NULL, '2021-10-23 21:51:00'),
	(72,72,2,0, NULL, '2021-12-23 21:51:00'),
	(73,73,3,1, NULL, '2021-01-23 21:51:00'),
	(74,74,4,0, NULL, '2021-01-01 21:51:00'),
	(75,75,5,0, NULL, '2021-01-01 21:51:00'),
	(76,76,1,0, NULL, '2021-01-01 21:51:00'),
	(77,77,2,1, NULL, '2021-01-01 21:51:00'),
	(78,78,3,0, NULL, '2021-02-01 15:51:00'),
	(79,79,4,1, NULL, '2020-03-16 15:51:00'),
	(80,80,5,1, NULL, '2020-04-16 15:51:00'),
	(81,81,1,1, NULL, '2020-05-16 15:51:00'),
	(82,81,2,1, NULL, '2020-08-16 15:36:00'),
	(83,81,3,0, NULL, '2020-10-16 15:36:00'),
	(84,81,4,0, NULL, '2020-12-16 21:36:00'),
	(85,81,5,0, NULL, '2020-01-16 21:36:00'),
	(86,86,1,0, NULL, '2020-01-16 21:36:00'),
	(87,87,2,1, NULL, '2020-01-16 19:36:00'),
	(88,88,3,0, NULL, '2020-01-16 17:36:00'),
	(89,89,4,1, NULL, '2020-01-16 17:36:00'),
	(90,90,5,1, NULL, '2020-02-18 17:36:00'),
	(91,91,1,1, NULL, '2020-02-18 17:51:00'),
	(92,91,2,0, NULL, '2020-02-18 17:51:00'),
	(93,91,3,1, NULL, '2020-02-18 17:51:00'),
	(94,91,4,0, NULL, '2020-02-18 17:28:00'),
	(95,91,5,0, NULL, '2020-02-18 17:28:00'),
	(96,96,1,0, NULL, '2020-02-18 19:28:00'),
	(97,97,2,0, NULL, '2020-02-18 19:28:00'),
	(98,100,3,1, NULL, '2020-02-18 19:28:00'),
	(99,100,4,1, NULL, '2020-02-18 21:28:00'),
	(100,100,5,0, NULL, '2020-02-18 21:28:00');



drop table if exists groups_course;
create table groups_course(
	id serial primary key,
	course_id bigint unsigned,
	student_id bigint unsigned,
	teacher_id bigint unsigned,
	start_date date not null,
	cnt_lesson bigint unsigned not null,
	
	foreign key (course_id) references courses(id) on update cascade on delete cascade,
	foreign key (student_id) references users(id) on update cascade on delete cascade,
	foreign key (teacher_id) references users(id) on update cascade on delete cascade
) comment 'Группы по обучениям';

insert into `groups_course` (`id`, `course_id`, `student_id`, `teacher_id`, `start_date`, `cnt_lesson`)
values
(1,1,6,2, '2020-06-15',14),
(2,1,11,2, '2020-06-15',14),
(3,1,16,2, '2020-06-15',14),
(4,1,21,2, '2020-06-15',14),
(5,1,26,2, '2020-06-15',14),
(6,1,31,2, '2020-06-15',14),
(7,1,36,2, '2020-06-15',14),
(8,1,41,2, '2020-06-15',14),
(9,1,46,2, '2020-06-15',14),
(10,1,51,2, '2020-06-15',14),
(11,1,56,2, '2020-06-15',14),
(12,1,61,2, '2020-06-15',14),
(13,1,66,2, '2020-06-15',14),
(14,1,71,2, '2020-06-15',14),
(15,1,76,2, '2020-06-15',14),
(16,1,81,2, '2020-06-15',14),
(17,2,6,1, '2020-08-15',12),
(18,2,12,1, '2020-08-15',12),
(19,2,17,1, '2020-08-15',12),
(20,2,22,1, '2020-08-15',12),
(21,2,27,1, '2020-08-15',12),
(22,2,32,1, '2020-08-15',12),
(23,2,36,1, '2020-08-15',12),
(24,2,42,1, '2020-08-15',12),
(25,2,47,1, '2020-08-15',12),
(26,2,51,1, '2020-08-15',12),
(27,2,57,1, '2020-08-15',12),
(28,2,62,1, '2020-08-15',12),
(29,2,67,1, '2020-08-15',12),
(30,2,72,1, '2020-08-15',12),
(31,2,76,1, '2020-08-15',12),
(32,2,82,1, '2020-08-15',12),
(33,3,33,4, '2020-06-15',10),
(34,3,6,4, '2020-06-15',10),
(35,3,12,4, '2020-06-15',10),
(36,3,18,4, '2020-06-15',10),
(37,3,21,4, '2020-06-15',10),
(38,3,28,4, '2020-06-15',10),
(39,3,33,4, '2020-06-15',10),
(40,3,38,4, '2020-06-15',10),
(41,3,43,4, '2020-06-15',10),
(42,3,48,4, '2020-06-15',10),
(43,3,53,4, '2020-06-15',10),
(44,3,58,4, '2020-06-15',10),
(45,3,63,4, '2020-06-15',10),
(46,3,68,4, '2020-06-15',10),
(47,3,71,4, '2020-06-15',10),
(48,3,76,4, '2020-06-15',10),
(49,3,82,4, '2020-06-15',10),
(50,4,9,3, '2020-10-15',16),
(51,4,14,3, '2020-10-15',16),
(52,4,18,3, '2020-10-15',16),
(53,4,21,3, '2020-10-15',16),
(54,4,29,3, '2020-10-15',16),
(55,4,34,3, '2020-10-15',16),
(56,4,39,3, '2020-10-15',16),
(57,4,44,3, '2020-10-15',16),
(58,4,49,3, '2020-10-15',16),
(59,4,54,3, '2020-10-15',16),
(60,4,59,3, '2020-10-15',16),
(61,4,62,3, '2020-10-15',16),
(62,4,69,3, '2020-10-15',16),
(63,4,71,3, '2020-10-15',16),
(64,4,76,3, '2020-10-15',16),
(65,4,84,3, '2020-10-15',16),
(66,5,10,5, '2021-01-15',18),
(67,5,15,5, '2021-01-15',18),
(68,5,20,5, '2021-01-15',18),
(69,5,25,5, '2021-01-15',18),
(70,5,30,5, '2021-01-15',18),
(71,5,35,5, '2021-01-15',18),
(72,5,36,5, '2021-01-15',18),
(73,5,45,5, '2021-01-15',18),
(74,5,50,5, '2021-01-15',18),
(75,5,55,5, '2021-01-15',18),
(76,5,60,5, '2021-01-15',18),
(77,5,65,5, '2021-01-15',18),
(78,5,70,5, '2021-01-15',18),
(79,5,75,5, '2021-01-15',18),
(80,5,76,5, '2021-01-15',18),
(81,5,85,5, '2021-01-15',18);




drop table if exists blogs;
create table blogs(
	id serial primary key,
	id_type_course bigint unsigned not null,
	teacher_id bigint unsigned not null,
	themes_block varchar(100) not null,
	start_date datetime not null,
	user_id bigint not null,
	
	foreign key (id_type_course) references courses(id) on update cascade on delete cascade,
	foreign key (teacher_id) references users(id) on update cascade on delete cascade
) comment 'Блоги, мини курсы, ЛайфХак';

insert into `blogs` (`id`, `id_type_course`, `teacher_id`, `themes_block`, `start_date`, `user_id`)
VALUES	 
(1,1,2, 'python','2020-02-08',6),
(2,2,1, 'mysql','2020-02-08',6),
(3,3,4, 'linux','2020-02-08',19),
(4,4,3, 'javascript','2020-02-08',6),
(5,5,5, 'c++','2020-02-08',19),
(6,1,2, 'python','2020-03-08',12),
(7,1,2, 'python','2020-04-08',33),
(8,1,2, 'python','2020-05-08',44),
(9,1,2, 'python','2020-08-08',50),
(10,1,2, 'python','2020-10-08',56),
(11,1,2, 'python','2020-12-08',74),
(12,2,1, 'mysql','2020-03-08',11),
(13,2,1, 'mysql','2020-04-08',16),
(14,2,1, 'mysql','2020-05-08',33),
(15,2,1, 'mysql','2020-08-08',44),
(16,2,1, 'mysql','2020-10-08',50),
(17,3,4, 'linux','2020-03-08',25),
(18,3,4, 'linux','2020-04-08',50),
(19,3,4, 'linux','2020-05-08',56),
(20,3,4, 'linux','2020-08-08',78),
(21,3,4, 'linux','2020-10-08',80),
(22,3,4, 'linux','2020-12-08',82),
(23,4,3, 'javascript','2020-03-08',11),
(24,4,3, 'javascript','2020-04-08',19),
(25,4,3, 'javascript','2020-05-08',56),
(26,4,3, 'javascript','2020-08-08',74),
(27,5,5, 'c++','2020-03-08',25),
(28,5,5, 'c++','2020-04-08',74);



drop table if exists tests;
create table tests(
	id serial primary key,
	student_id bigint unsigned not null,
	course_id bigint unsigned not null,
	themes_test varchar(100) not null,
	start_date_test date not null,
	start_passing_user date not null,
	points bigint unsigned not null,
	
	foreign key (course_id) references courses(id) on update cascade on delete cascade,
	foreign key (student_id) references users(id) on update cascade on delete cascade
) comment 'Дополнительные тесты для студентов';


insert into `tests` (`id`, `student_id`, `course_id`, `themes_test`, `start_date_test`, `start_passing_user`, `points`)
values 
	(1,6,1, 'python','2020-02-08','2020-08-08',8),
	(2,6,2, 'mysql','2020-03-08','2020-08-08',8),
	(3,6,3, 'linux','2020-04-08','2020-08-08',9),
	(4,9,4, 'javascript','2020-05-08','2020-08-08',8),
	(5,10,5, 'c++','2020-08-08','2020-12-08',8),
	(6,11,1, 'python','2020-10-08','2020-12-08',8),
	(7,12,2, 'mysql','2020-12-08','2020-12-08',8),
	(8,12,3, 'linux','2020-01-08','2021-05-01',8),
	(9,14,4, 'javascript','2020-01-08','2021-05-01',8),
	(10,15,5, 'c++','2021-01-08','2021-05-01',8),
	(11,16,1, 'python','2021-01-08','2021-05-01',8),
	(12,17,2, 'mysql','2021-01-08','2021-05-01',7),
	(13,18,3, 'linux','2021-02-01','2021-05-01',7),
	(14,18,4, 'javascript','2021-03-01','2021-05-01',7),
	(15,20,5, 'c++','2021-04-01','2021-05-01',7),
	(16,21,1, 'python','2021-05-01','2021-05-01',7),
	(17,21,3, 'linux','2021-10-01','2020-12-01',9),
	(18,21,4, 'javascript','2020-12-01','2020-12-01',9),
	(19,22,2, 'mysql','2021-08-01','2020-04-12',9),
	(20,25,5, 'c++','2020-01-12','2020-04-12',9),
	(21,26,1, 'python','2020-01-12','2020-04-12',9),
	(22,27,2, 'mysql','2020-01-12','2020-04-12',9),
	(23,28,3, 'linux','2020-01-12','2020-04-12',9),
	(24,29,4, 'javascript','2020-01-12','2020-04-12',7),
	(25,30,5, 'c++','2020-02-12','2020-04-12',7),
	(26,31,1, 'python','2020-03-12','2020-04-12',7),
	(27,32,2, 'mysql','2020-04-12','2020-04-12',7),
	(28,33,3, 'linux','2020-05-12','2021-12-12',7),
	(29,34,4, 'javascript','2020-08-12','2021-12-12',7),
	(30,35,5, 'c++','2021-10-12','2021-12-12',6),
	(31,36,1, 'python','2021-12-12','2021-12-12',6),
	(32,36,2, 'mysql','2021-01-01','2020-08-19',6),
	(33,36,5, 'c++','2021-01-01','2020-08-19',6),
	(34,38,3, 'linux','2021-01-01','2020-08-19',6),
	(35,39,4, 'javascript','2021-01-01','2020-08-19',6),
	(36,41,1, 'python','2021-01-01','2020-08-19',6),
	(37,42,2, 'mysql','2021-02-01','2020-08-19',6),
	(38,43,3, 'linux','2021-03-01','2020-08-19',6),
	(39,44,4, 'javascript','2020-04-01','2020-08-19',9),
	(40,45,5, 'c++','2020-05-01','2020-08-19',9),
	(41,46,1, 'python','2020-08-19','2020-08-19',10),
	(42,47,2, 'mysql','2020-10-19','2020-10-19',10),
	(43,48,3, 'linux','2020-12-19','2020-12-19',10),
	(44,49,4, 'javascript','2020-01-19','2020-04-01',10),
	(45,50,5, 'c++','2020-01-19','2020-04-01',10),
	(46,51,1, 'python','2020-01-19','2020-04-01',10),
	(47,51,2, 'mysql','2020-01-19','2020-04-01',10),
	(48,53,3, 'linux','2020-01-19','2020-04-01',10),
	(49,54,4, 'javascript','2020-02-19','2020-04-01',10),
	(50,55,5, 'c++','2020-03-19','2020-04-01',10),
	(51,56,1, 'python','2020-04-01','2020-04-01',8),
	(52,57,2, 'mysql','2020-05-01','2020-05-01',8),
	(53,58,3, 'linux','2020-08-01','2020-08-01',8),
	(54,59,4, 'javascript','2020-10-23','2020-10-23',8),
	(55,60,5, 'c++','2020-12-23','2020-12-23',8),
	(56,61,1, 'python','2021-01-23','2021-08-23',8),
	(57,62,2, 'mysql','2021-01-23','2021-08-23',8),
	(58,62,4, 'javascript','2021-01-23','2021-08-23',9),
	(59,63,3, 'linux','2021-01-23','2021-08-23',9),
	(60,65,5, 'c++','2021-01-23','2021-08-23',9),
	(61,66,1, 'python','2021-02-23','2021-08-23',9),
	(62,67,2, 'mysql','2021-03-23','2021-08-23',9),
	(63,68,3, 'linux','2021-04-23','2021-08-23',8),
	(64,69,4, 'javascript','2021-05-23','2021-08-23',8),
	(65,70,5, 'c++','2021-08-23','2021-08-23',3),
	(66,71,1, 'python','2021-10-23','2021-10-23',6),
	(67,71,3, 'linux','2021-01-23','2021-01-23',6),
	(68,71,4, 'javascript','2021-01-01','2021-01-01',6),
	(69,72,2, 'mysql','2021-12-23','2021-12-23',6),
	(70,75,5, 'c++','2021-01-01','2020-03-16',6),
	(71,76,1, 'python','2021-01-01','2020-03-16',6),
	(72,76,2, 'mysql','2021-01-01','2020-03-16',2),
	(73,76,3, 'linux','2021-02-01','2020-03-16',2),
	(74,76,4, 'javascript','2020-03-16','2020-03-16',3),
	(75,76,5, 'c++','2020-04-16','2020-04-16',4),
	(76,81,1, 'python','2020-05-16','2020-05-16',7),
	(77,82,2, 'mysql','2020-08-16','2020-08-16',4),
	(78,82,3, 'linux','2020-10-16','2020-10-16',4),
	(79,84,4, 'javascript','2020-12-16','2020-12-16',4),
	(80,85,5, 'c++','2020-01-16','2020-01-16',5);



